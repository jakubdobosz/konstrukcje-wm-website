---
import { t } from '../i18n/translations';
import type { Lang } from '../i18n/translations';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const base = '/konstrukcje-wm-website';
const year = new Date().getFullYear();

const servicesPath = lang === 'pl' ? '/uslugi/prefabrykacja' : lang === 'en' ? '/en/services/precast' : '/de/leistungen/fertigteile';
const projectsPath = lang === 'pl' ? '/realizacje' : lang === 'en' ? '/en/projects' : '/de/projekte';
const contactPath = lang === 'pl' ? '/kontakt' : lang === 'en' ? '/en/contact' : '/de/kontakt';
---

<footer class="footer">
  <div class="container">
    <div class="footer-grid">
      <div class="footer-brand">
        <img src={`${base}/images/logo/WM_biale.png`} alt="Konstrukcje WM" width="48" height="48" class="footer-logo" />
        <p class="footer-company">{t(lang, 'footer.company')}</p>
        <p class="footer-desc">{t(lang, 'footer.description')}</p>
      </div>

      <div class="footer-links">
        <h4>{t(lang, 'footer.services')}</h4>
        <ul>
          <li><a href={`${base}${lang === 'pl' ? '/uslugi/prefabrykacja' : lang === 'en' ? '/en/services/precast' : '/de/leistungen/fertigteile'}`}>{t(lang, 'services.prefab.title')}</a></li>
          <li><a href={`${base}${lang === 'pl' ? '/uslugi/konstrukcje-zelbetowe' : lang === 'en' ? '/en/services/reinforced-concrete' : '/de/leistungen/stahlbeton'}`}>{t(lang, 'services.rc.title')}</a></li>
          <li><a href={`${base}${lang === 'pl' ? '/uslugi/sprezone' : lang === 'en' ? '/en/services/prestressed' : '/de/leistungen/spannbeton'}`}>{t(lang, 'services.prestressed.title')}</a></li>
          <li><a href={`${base}${lang === 'pl' ? '/uslugi/optymalizacja' : lang === 'en' ? '/en/services/optimization' : '/de/leistungen/optimierung'}`}>{t(lang, 'services.optimization.title')}</a></li>
        </ul>
      </div>

      <div class="footer-links">
        <h4>{t(lang, 'footer.contact')}</h4>
        <ul>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"/></svg>
            <a href="tel:+48791392370">+48 791 392 370</a>
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><path d="M22 6l-10 7L2 6"/></svg>
            <a href="mailto:biuro@konstrukcje-wm.pl">biuro@konstrukcje-wm.pl</a>
          </li>
          <li>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
            <span>ul. Sarnia 6, 80-336 Gdańsk</span>
          </li>
        </ul>
      </div>
    </div>

    <div class="footer-bottom">
      <p>NIP: 5842627831 · REGON: 381566723</p>
      <p>© {year} {t(lang, 'footer.company')}. {t(lang, 'footer.rights')}</p>
    </div>
  </div>
</footer>

<style>
  .footer {
    background: var(--color-bg-secondary);
    border-top: 1px solid var(--color-border);
    padding: var(--space-3xl) 0 var(--space-xl);
  }

  .footer-grid {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: var(--space-3xl);
    margin-bottom: var(--space-3xl);
  }

  .footer-logo {
    width: 48px;
    height: 48px;
    object-fit: contain;
    margin-bottom: var(--space-md);
  }

  .footer-company {
    font-weight: 700;
    font-size: 1.1rem;
    margin-bottom: var(--space-sm);
  }

  .footer-desc {
    color: var(--color-text-secondary);
    font-size: 0.9rem;
    line-height: 1.6;
  }

  .footer-links h4 {
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    margin-bottom: var(--space-lg);
  }

  .footer-links ul {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
  }

  .footer-links li {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
  }

  .footer-links li svg {
    color: var(--color-text-muted);
    flex-shrink: 0;
  }

  .footer-links a, .footer-links span {
    color: var(--color-text-secondary);
    font-size: 0.9rem;
    transition: color var(--transition-fast);
  }

  .footer-links a:hover {
    color: var(--color-primary-light);
  }

  .footer-bottom {
    border-top: 1px solid var(--color-border);
    padding-top: var(--space-xl);
    display: flex;
    justify-content: space-between;
    color: var(--color-text-muted);
    font-size: 0.8rem;
  }

  @media (max-width: 768px) {
    .footer-grid {
      grid-template-columns: 1fr;
      gap: var(--space-xl);
    }

    .footer-bottom {
      flex-direction: column;
      gap: var(--space-sm);
      text-align: center;
    }
  }
</style>
